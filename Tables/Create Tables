CREATE TABLE IF NOT EXISTS Suppliers(
Id INTEGER PRIMARY KEY AUTOINCREMENT,
PhoneNumber TEXT NOT NULL,
Email TEXT NOT NULL UNIQUE,
FirstName TEXT NOT NULL,
LastName TEXT NOT NULL,
City TEXT NOT NULL,
PostalCode TEXT NOT NULL,
Street TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS Products(
Id INTEGER PRIMARY KEY AUTOINCREMENT,
Name TEXT NOT NULL,
kgPrice FLOAT NOT NULL,
SupId INTEGER NOT NULL,
FOREIGN KEY (SupId) REFERENCES Suppliers(Id)
);

CREATE TABLE IF NOT EXISTS SalesOrders(
Id INTEGER PRIMARY KEY AUTOINCREMENT,
OrderDate TEXT DEFAULT (datetime('now')),
SupplierId INTEGER NOT NULL,
ProductId INTEGER NOT NULL,
Quantity INTEGER NOT NULL,
FOREIGN KEY (SupplierId) REFERENCES Suppliers(Id),
FOREIGN KEY (ProductId) REFERENCES Products(Id)
);

CREATE TABLE IF NOT EXISTS Recipes(
Id INTEGER PRIMARY KEY AUTOINCREMENT,
Name TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS RecipeProducts(
RecipeId INTEGER NOT NULL,
ProductId INTEGER NOT NULL,
Quantity FLOAT NOT NULL,
PRIMARY KEY (RecipeId, ProductId),
FOREIGN KEY (RecipeId) REFERENCES Recipes(Id),
FOREIGN KEY (ProductId) REFERENCES Products(Id)
);